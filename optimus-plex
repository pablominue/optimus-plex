#!/usr/bin/env python3
import argparse
import os
from src.converter import Converter

BASE_PATH = os.getenv('BASE_PATH')
INPUT_FORMAT = os.getenv('INPUT_FORMAT')
OUTPUT_FORMAT = os.getenv('OUTPUT_FORMAT')

parser = argparse.ArgumentParser('optimus-plex')
parser.add_argument(
    '--directory', '-d',
    help="Directory of the Plex Media library",
    type=str
)
parser.add_argument(
    '--input-format', '-i',
    help="Fromat that wants to be converted. i.e. m2ts",
    type=str,
    dest='input'
)
parser.add_argument(
    '--output-format', '-o',
    help="Desired format. i.e mp4",
    type=str,
    dest='output'
)

args = parser.parse_args()
if __name__ == '__main__':
    converter = Converter(output_format=args.output)
    converter.run(input_format=args.input, base_path=args.directory)
    